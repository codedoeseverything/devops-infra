service: ${env:STACK_NAME}-${env:SUBDOMAIN}-secret-arn-export

useDotenv: true

provider:
  name: aws
  runtime: nodejs12.x
  timeout: 300
  memorySize: 128
  region: ${env:REGION}
  stage: ${env:ENV}


resources:
  Conditions:
    HasNot: !Equals ['true', 'false']
  Resources:
    NullResource:
      Type: 'Custom::NullResource'
      Condition: HasNot
  Outputs:
    DB:
      Description: Exporting Secret name ${env:STACK_NAME}-DB-${env:ENV}
      Value: ${env:${env:STACK_NAME}-DB-${env:ENV}}
      Export:
        Name: ${env:STACK_NAME}-DB-${env:ENV}

