service: ${env:STACK_NAME}-${env:SUBDOMAIN}-secret-arn-export

frameworkVersion: ^2.17.0

useDotenv: true

provider:
  name: aws
  runtime: nodejs12.x
  timeout: 300
  memorySize: 128
  region: ${env:REGION}
  stage: ${env:ENV}


resources:
  Conditions:
    HasNot: !Equals ['true', 'false']
  Resources:
    NullResource:
      Type: 'Custom::NullResource'
      Condition: HasNot
  Outputs:
    ${StackName}-Elephant-${Env}:
      Description: 'Exporting Secret name ${StackName}-Elephant-${Env}'
      Value: !Sub '${StackName}-Elephant-${Env}'
      Export:
        Name: !Sub '${StackName}-Elephant-${Env}'
    ${StackName}-dummy-${Env}:
      Description: 'Exporting Secret name ${StackName}-Elephant-${Env}'
      Value: !Sub '${StackName}-Elephant-${Env}'
      Export:
        Name: !Sub '${StackName}-dummy-${Env}'
