service: ${env:STACK_NAME}-${env:SUBDOMAIN}-secret-arn-export

frameworkVersion: ^2.17.0

useDotenv: true

provider:
  name: aws
  runtime: nodejs12.x
  timeout: 300
  memorySize: 128
  region: ${env:REGION}
  stage: ${env:ENV}


resources:
  Conditions:
    HasNot: !Equals ['true', 'false']
  Resources:
    NullResource:
      Type: 'Custom::NullResource'
      Condition: HasNot
  Outputs:
    !Sub ${env:StackName}-Elephant-${env:Env}:
      Description: Exporting Secret name ${env:StackName}-Elephant-${env:Env}
      Value: !Sub ${env:${env:StackName}-Elephant-${env:Env}}
      Export:
        Name: !Sub ${StackName}-Elephant-${Env}

